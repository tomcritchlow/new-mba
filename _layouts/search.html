
<script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.min.js"></script>

<input type="text" id="search" placeholder="Search">
<div id="results"></div>

<script>
var data;
var fuse;

fetch("https://newmba.co/search.json")
  .then(response => response.json())
  .then(fetchedData => {
    data = fetchedData;

    var options = {
      keys: ['title', 'content'],
      includeScore: true,
      threshold: 0.3 // Determine the sensitivity of the search. Lower the value, less fuzzy search will be.
    }

    fuse = new Fuse(data, options);
  });

document.getElementById('search').addEventListener('input', function () {
  if (!fuse) {
    console.log('Index is not ready');
    return;
  }

  var results = fuse.search(this.value);
  var resultsDiv = document.getElementById('results')
  resultsDiv.innerHTML = ''
  results.forEach(function (result) {
    var div = document.createElement('div')
    div.innerHTML = '<a href="' + result.item.url + '">' + result.item.title + '</a>'
    resultsDiv.appendChild(div)
  })
})
</script>
